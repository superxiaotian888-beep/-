<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>登录</title>
</head>
<body>

<h2>登录页面</h2>

账号：<input id="username"><br><br>
密码：<input id="password" type="password"><br><br>

<button onclick="login()">登录</button>

<p id="msg"></p>

<script>
function login() {
    const username = document.getElementById("username").value;
    const password = document.getElementById("password").value;

    fetch("https://你的worker域名/login", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ username, password })
    })
    .then(res => res.json())
    .then(data => {
        document.getElementById("msg").innerText = data.msg;

        if (data.code === 200) {
            // 登录成功 → 跳转页面
            window.location.href = "home.html"; 
        }
    })
    .catch(err => {
        document.getElementById("msg").innerText = "请求失败：" + err;
    });
}
</script>

</body>
</html>
